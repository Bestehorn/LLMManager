<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using the Converse API - Amazon Bedrock</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="conversation-inference-call" /><meta name="default_state" content="conversation-inference-call" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/conversation-inference-call.html" /><meta name="description" content="To use the Converse API, you call the Converse or ConverseStream operations to send messages to a model. To call Converse , you require permission for the bedrock:InvokeModel operation. To call ConverseStream , you require permission for the" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Bedrock" /><meta name="guide" content="User Guide" /><meta name="abstract" content="User Guide for the Amazon Bedrock service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/conversation-inference-call.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/conversation-inference-call.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/conversation-inference-call.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/conversation-inference-call.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/conversation-inference-call.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/conversation-inference-call.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/conversation-inference-call.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/conversation-inference-call.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/conversation-inference-call.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/conversation-inference-call.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/conversation-inference-call.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/conversation-inference-call.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/conversation-inference-call.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/conversation-inference-call.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/conversation-inference-call.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/conversation-inference-call.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/conversation-inference-call.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/conversation-inference-call.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/conversation-inference-call.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/bedrock/latest/userguide/conversation-inference-call.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/bedrock/latest/userguide/conversation-inference-call.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/conversation-inference-call.html" hreflang="x-default" /><meta name="feedback-folder" content="2d8c2a09-1dac-41bf-9893-c0333d272b2c" /><meta name="feedback-item" content="Bedrock" /><meta name="this_doc_product" content="Amazon Bedrock" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'bedrock'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Using the Converse API" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using the Converse API - Amazon Bedrock</title><meta name="pdf" content="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#conversation-inference-call" /><meta name="rss" content="bedrock-ug.rss" /><meta name="forums" content="https://repost.aws/tags/TAQeKlaPaNRQ2tWB6P7KrMag" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/conversation-inference-call.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/conversation-inference-call.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/conversation-inference-call.html" /><meta name="keywords" content="Amazon Bedrock,bedrock" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Submit prompts and generate responses with model inference",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/inference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Submit prompts and generate responses using the API",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/inference-api.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Carry out a conversation with the Converse API operations",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/conversation-inference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Using the Converse API",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/conversation-inference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#conversation-inference-call" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/bedrock/index.html">Amazon Bedrock</a><a href="what-is-bedrock.html">User Guide</a></div><div id="page-toc-src"><a href="#conversation-inference-call-request">Request</a><a href="#conversation-inference-call-response">Response</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="conversation-inference-call">Using the Converse
                API</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>To use the Converse API, you call the <code class="code">Converse</code> or
                <code class="code">ConverseStream</code> operations to send messages to a model. To call
                <code class="code">Converse</code>, you require permission for the
                <code class="code">bedrock:InvokeModel</code> operation. To call <code class="code">ConverseStream</code>, you
            require permission for the <code class="code">bedrock:InvokeModelWithResponseStream</code>
            operation.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><p><a href="#conversation-inference-call-request">Request</a></p></li><li><p><a href="#conversation-inference-call-response">Response</a></p></li></ul></div>
            <h2 id="conversation-inference-call-request">Request</h2>

            <p>When you make a <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Converse.html">Converse</a> request with an <a href="https://docs.aws.amazon.com/general/latest/gr/bedrock.html#br-rt">Amazon Bedrock runtime endpoint</a>, you can include the following
                fields:</p>

            <div class="itemizedlist">
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>modelId</b> – A required parameter in
                        the header that lets you specify the resource to use for inference.</p>
                </li><li class="listitem">

                    <p>The following fields let you customize the prompt:</p>

                    <div class="itemizedlist">
                         
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p><b>messages</b> – Use to specify
                                the content and role of the prompts.</p>
                        </li><li class="listitem">
                            <p><b>system</b> – Use to specify
                                system prompts, which define instructions or context for the
                                model.</p>
                        </li><li class="listitem">
                            <p><b>inferenceConfig</b> – Use to
                                specify inference parameters that are common to all models.
                                Inference parameters influence the generation of the
                                response.</p>
                        </li><li class="listitem">
                            <p><b>additionalmodelRequestFields</b>
                                – Use to specify inference parameters that are specific to the
                                model that you run inference with.</p>
                        </li><li class="listitem">
                            <p><b>promptVariables</b> – (If you
                                use a prompt from Prompt management) Use this field to define the variables in
                                the prompt to fill in and the values with which to fill them.</p>
                        </li></ul></div>

                </li><li class="listitem">
                    <p>The following fields let you customize how the response is
                        returned:</p>
                    <div class="itemizedlist">
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p><b>guardrailConfig</b> – Use this
                                field to include a guardrail to apply to the entire prompt.</p>
                        </li><li class="listitem">
                            <p><b>toolConfig</b> – Use this field
                                to include a tool to help a model generate responses.</p>
                        </li><li class="listitem">
                            <p><b>additionalModelResponseFieldPaths</b>
                                – Use this field to specify fields to return as a JSON pointer
                                object.</p>
                        </li></ul></div>
                </li><li class="listitem">
                    <p><b>requestMetadata</b> – Use this field to
                        include metadata that can be filtered on when using invocation logs.</p>
                </li></ul></div>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The following restrictions apply when you use a Prompt management prompt with <code class="code">Converse</code> or <code class="code">ConverseStream</code>:</p><div class="itemizedlist">
                                 
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p>You can't include the <code class="code">additionalModelRequestFields</code>, <code class="code">inferenceConfig</code>, <code class="code">system</code>, or <code class="code">toolConfig</code> fields.</p> 
                                </li><li class="listitem">
                                    <p>If you include the <code class="code">messages</code> field, the messages are appended after the messages defined in the prompt.</p>
                                </li><li class="listitem">
                                    <p>If you include the <code class="code">guardrailConfig</code> field, the guardrail is applied to the entire prompt. If you include <code class="code">guardContent</code> blocks in the <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a> field, the guardrail will only be applied to those blocks.</p>
                                </li></ul></div></div></div>
            <p>Expand a section to learn more about a field in the <code class="code">Converse</code> request
                body:</p>

            <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="messages" id="converse-messages" expanded="false"><p>The <code class="code">messages</code> field is an array of <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a> objects, each of
                        which defines a message between the user and the model. A
                            <code class="code">Message</code> object contains the following fields:</p><div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p><b>role</b> – Defines whether the
                                message is from the <code class="code">user</code> (the prompt sent to the model)
                                or <code class="code">assistant</code> (the model response).</p>
                        </li><li class="listitem">
                            <p><b>content</b> – Defines the
                                content in the prompt.</p>

                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Amazon Bedrock doesn't store any text, images, or documents that you
                                    provide as content. The data is only used to generate the
                                    response.</p></div></div>
                        </li></ul></div><p>You can maintain conversation context by including all the messages in the
                        conversation in subsequent <code class="code">Converse</code> requests and using the
                            <code class="code">role</code> field to specify whether the message is from the user
                        or the model.</p><p>The <code class="code">content</code> field maps to an array of <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a> objects.
                        Within each <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a>, you can specify one of the following fields (to
                        see what models support what blocks, see <a href="./conversation-inference-supported-models-features.html">Supported models and
                model features</a>):</p><awsdocs-tabs><dl style="display: none">
                        <dt>text</dt><dd tab-id="text">

                                <p>The <code class="code">text</code> field maps to a string specifying the
                                    prompt. The <code class="code">text</code> field is interpreted alongside
                                    other fields that are specified in the same
                                    <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a>.</p>

                                <p>The following shows a <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a> object with a
                                        <code class="code">content</code> array containing only a text
                                    <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a>:</p>

                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="nohighlight"><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "text": "<code class="replaceable">string</code>"
        }
    ]
}</code></pre>

                            </dd>
                        <dt>image</dt><dd tab-id="image">

                                <p>The <code class="code">image</code> field maps to an <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ImageBlock.html">ImageBlock</a>. Pass the
                                    raw bytes, encoded in base64, for an image in the
                                        <code class="code">bytes</code> field. If you use an AWS SDK, you don't
                                    need to encode the bytes in base64.</p>

                                <p>If you exclude the <code class="code">text</code> field, the model
                                    describes the image.</p>

                                <p>The following shows an example <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a> object with a
                                        <code class="code">content</code> array containing only an image
                                    <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a>:</p>

                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "image": <span>{</span>
                "format": "png",
                "source": <span>{</span>
                    "bytes": "<code class="replaceable">image in bytes</code>"
                }
            }
        }
    ]
}</code></pre>
                                <p>You can also specify an Amazon S3 URI instead of passing the bytes directly in the request body. The following shows a sample <code class="code">Message</code> object with a content array containing the source passed through an Amazon S3 URI.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "image": <span>{</span>
                "format": "png",
                "source": <span>{</span>
                    "s3Location": <span>{</span>
                        "uri": "s3://amzn-s3-demo-bucket/myImage",
                        "bucketOwner": "111122223333"
                    }
                }
            }
        }
    ]
}</code></pre>

                            </dd>
                        <dt>document</dt><dd tab-id="document">

                                <p>The <code class="code">document</code> field maps to an <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_DocumentBlock.html">DocumentBlock</a>. If
                                    you include a <code class="code">DocumentBlock</code>, check that your
                                    request conforms to the following restrictions:</p>

                                <div class="itemizedlist">
                                     
                                     
                                     
                                <ul class="itemizedlist"><li class="listitem">
                                        <p>In the <code class="code">content</code> field of the <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a>
                                            object, you must also include a <code class="code">text</code> field
                                            with a prompt related to the document.</p>
                                    </li><li class="listitem">
                                        <p>Pass the raw bytes, encoded in base64, for the
                                            document in the <code class="code">bytes</code> field. If you use an
                                            AWS SDK, you don't need to encode the document bytes
                                            in base64.</p>
                                    </li><li class="listitem">
                                        <p>The <code class="code">name</code> field can only contain the
                                            following characters:</p>

                                        <div class="itemizedlist">
                                             
                                             
                                             
                                             
                                             
                                        <ul class="itemizedlist"><li class="listitem">
                                                <p>Alphanumeric characters</p>
                                            </li><li class="listitem">
                                                <p>Whitespace characters (no more than one in a
                                                  row)</p>
                                            </li><li class="listitem">
                                                <p>Hyphens</p>
                                            </li><li class="listitem">
                                                <p>Parentheses</p>
                                            </li><li class="listitem">
                                                <p>Square brackets</p>
                                            </li></ul></div>

                                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The <code class="code">name</code> field is vulnerable to
                                                prompt injections, because the model might
                                                inadvertently interpret it as instructions.
                                                Therefore, we recommend that you specify a neutral
                                                name.</p></div></div>

                                    </li></ul></div>

                                <p>The following shows a sample <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a> object with a
                                        <code class="code">content</code> array containing only a document
                                    <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a> and a required accompanying text
                                    <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a>.</p>

                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "text": "<code class="replaceable">string</code>"
        },
        <span>{</span>
            "document": <span>{</span>
                "format": "pdf",
                "name": "MyDocument",
                "source": <span>{</span>
                    "bytes": "<code class="replaceable">document in bytes</code>"
                }
            }
        }
    ]
}</code></pre>
                                <p>You can also specify an Amazon S3 URI instead of passing the bytes directly in the request body. The following shows a sample <code class="code">Message</code> object with a content array containing the source passed through an Amazon S3 URI.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "text": "<code class="replaceable">string</code>"
        },
        <span>{</span>
            "document": <span>{</span>
                "format": "pdf",
                "name": "MyDocument",
                "source": <span>{</span>
                    "s3Location": <span>{</span>
                      "uri": "s3://amzn-s3-demo-bucket/myDocument",
                      "bucketOwner": "111122223333"
                    }
                }
            }
        }
    ]
}</code></pre>

                            </dd>
                        <dt>video</dt><dd tab-id="video">

                                <p>The <code class="code">video</code> field maps to a <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_VideoBlock.html">VideoBlock</a> object.
                                    Pass the raw bytes in the <code class="code">bytes</code> field, encoded in
                                    base64. If you use the AWS SDK, you don't need to encode the
                                    bytes in base64.</p>
                                <p>If you don't include the <code class="code">text</code> field, the model
                                    will describe the video.</p>
                                <p>The following shows a sample <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a> object with a
                                        <code class="code">content</code> array containing only a video
                                    <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a>.</p>

                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="nohighlight"><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "video": <span>{</span>
                "format": "mp4",
                "source": <span>{</span>
                    "bytes": "<code class="replaceable">video in bytes</code>"
                }
            }
        }
    ]
}</code></pre>
                                <p>You can also specify an Amazon S3 URI instead of passing the bytes directly in the request body. The following shows a sample <code class="code">Message</code> object with a content array containing the source passed through an Amazon S3 URI.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class=""><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "video": <span>{</span>
                "format": "mp4",
                "source": <span>{</span>
                    "s3Location": <span>{</span>
                        "uri": "s3://amzn-s3-demo-bucket/myVideo",
                        "bucketOwner": "111122223333"
                    }
                }
            }
        }
    ]
}</code></pre>

                                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The assumed role must have the <code class="code">s3:GetObject</code>
                                        permission to the Amazon S3 URI. The <code class="code">bucketOwner</code>
                                        field is optional but must be specified if the account
                                        making the request does not own the bucket the Amazon S3 URI is
                                        found in. For more information, see <a href="./s3-bucket-access.html">Configure access to Amazon S3 buckets</a>.</p></div></div>
                            </dd>
                        <dt>cachePoint</dt><dd tab-id="cachepoint">

                                <p>You can add cache checkpoints as a block in a message
                                    alongside an accompanying prompt by using
                                        <code class="code">cachePoint</code> fields to utilize prompt caching.
                                    Prompt caching is a feature that lets you begin caching the
                                    context of conversations to achieve cost and latency savings.
                                    For more information, see <a href="./prompt-caching.html">Prompt caching for faster model inference</a>.</p>

                                <p>The following shows a sample <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a> object with a
                                        <code class="code">content</code> array containing a document
                                    <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a> and a required accompanying text <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a>,
                                    as well as a <b>cachePoint</b> that adds both the
                                    document and text contents to the cache.</p>

                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="nohighlight"><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "text": "<code class="replaceable">string</code>"
        },
        <span>{</span>
            "document": <span>{</span>
                "format": "pdf",
                "name": "string",
                "source": <span>{</span>
                    "bytes": "<code class="replaceable">document in bytes</code>"
                }
            }
        },
        <span>{</span>
            "cachePoint": <span>{</span>
                "type": "default"
            }
        }
    ]
}</code></pre>

                            </dd>
                        <dt>guardContent</dt><dd tab-id="guardcontent">

                                <p>The <code class="code">guardContent</code> field maps to a <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_GuardrailConverseContentBlock.html">GuardrailConverseContentBlock</a>
                                    object. You can use this field to target an input to be
                                    evaluated by the guardrail defined in the
                                        <code class="code">guardrailConfig</code> field. If you don't specify
                                    this field, the guardrail evaluates all messages in the request
                                    body. You can pass the following types of content in a
                                        <code class="code">GuardBlock</code>:</p>

                                <div class="itemizedlist">
                                     
                                     
                                <ul class="itemizedlist"><li class="listitem">
                                        <p><b>text</b> – The
                                            following shows an example <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a> object with a
                                                <code class="code">content</code> array containing only a text
                                            <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_GuardrailConverseContentBlock.html">GuardrailConverseContentBlock</a>:</p>

                                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "text": "Tell me what stocks to buy.",
            "qualifiers": [
                "guard_content"
            ]
        }
    ]
}</code></pre>

                                        <p>You define the text to be evaluated and include any
                                            qualifiers to use for <a href="./guardrails-contextual-grounding-check.html">contextual grounding</a>.</p>
                                    </li><li class="listitem">
                                        <p><b>image</b> – The
                                            following shows a <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a> object with a
                                                <code class="code">content</code> array containing only an image
                                            <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_GuardrailConverseContentBlock.html">GuardrailConverseContentBlock</a>:</p>

                                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "format": "png",
            "source": <span>{</span>
                "bytes": "<code class="replaceable">image in bytes</code>"
            }
        }
    ]
}</code></pre>

                                        <p>You specify the format of the image and define the
                                            image in bytes.</p>
                                    </li></ul></div>

                                <p>For more information about using guardrails, see <a href="./guardrails.html">Detect and filter harmful content by using Amazon Bedrock Guardrails</a>.</p>

                            </dd>
                        <dt>reasoningContent</dt><dd tab-id="reasoningcontent">

                                <p>The <code class="code">reasoningContent</code> field maps to a
                                    <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ReasoningContentBlock.html">ReasoningContentBlock</a>. This block contains content regarding
                                    the reasoning that was carried out by the model to generate the
                                    response in the accompanying <code class="code">ContentBlock</code>.</p>

                                <p>The following shows a <code class="code">Message</code> object with a
                                        <code class="code">content</code> array containing only a
                                        <code class="code">ReasoningContentBlock</code> and an accompanying text
                                        <code class="code">ContentBlock</code>.</p>

                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="nohighlight"><span>{</span>
    "role": "user",
    "content": [
        <span>{</span>
            "text": "<code class="replaceable">string</code>"
        },
        <span>{</span>
            "reasoningContent": <span>{</span>
                "reasoningText": <span>{</span>
                    "text": "<code class="replaceable">string</code>",
                    "signature": "<code class="replaceable">string</code>"
                }
                "redactedContent": "<code class="replaceable">base64-encoded binary data object</code>"
            }
        }
    ]
}</code></pre>

                                <p>The <code class="code">ReasoningContentBlock</code> contains the reasoning
                                    used to generate the accompanying content in the
                                        <code class="code">reasoningText</code> field, in addition to any content
                                    in the reasoning that was encrypted by the model provider for
                                    trust and safety reasons in the <code class="code">redactedContent</code>
                                    field.</p>

                                <p>Within the <code class="code">reasoningText</code> field, the
                                        <code class="code">text</code> fields describes the reasoning. The
                                        <code class="code">signature</code> field is a hash of all the messages
                                    in the conversation and is a safeguard against tampering of the
                                    reasoning used by the model. You must include the signature and
                                    all previous messages in subsequent <code class="code">Converse</code>
                                    requests. If any of the messages are changed, the response
                                    throws an error.</p>

                            </dd>
                        <dt>toolUse</dt><dd tab-id="tooluse">

                                <p>Contains information about a tool for the model to use.
                                    For more information, see <a href="./tool-use.html">Use a tool to complete an Amazon Bedrock model response</a>.</p>

                            </dd>
                        <dt>toolResult</dt><dd tab-id="toolresult">

                                <p>Contains information about the result from the model using a
                                    tool. For more information, see <a href="./tool-use.html">Use a tool to complete an Amazon Bedrock model response</a>.</p>

                            </dd>
                    </dl></awsdocs-tabs><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><div class="itemizedlist">
      <p>The following restrictions pertain to the <code class="code">content</code> field:</p>
       
                     
       
    <ul class="itemizedlist"><li class="listitem">
                        <p>You can include up to 20 images. Each image's size, height, and width must be no more than 3.75 MB, 8,000 px, and 8,000 px, respectively.</p>
                    </li><li class="listitem">
                        <p>You can include up to five documents. Each document's size must be no more than 4.5 MB.</p>
                    </li><li class="listitem">
          <p>You can only include images and documents if the <code class="code">role</code> is <code class="code">user</code>.</p>
      </li></ul></div></div></div><p>In the following <code class="code">messages</code> example, the user asks for a list
                        of three pop songs, and the model generates a list of songs. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json ">[
    <span>{</span>
        "role": "user",
        "content": [
            <span>{</span>
                "text": "Create a list of 3 pop songs."
            }
        ]
    },
    <span>{</span>
        "role": "assistant",
        "content": [
            <span>{</span>
                "text": "Here is a list of 3 pop songs by artists from the United Kingdom:\n\n1. \"As It Was\" by Harry Styles\n2. \"Easy On Me\" by Adele\n3. \"Unholy\" by Sam Smith and Kim Petras"
            }
        ]
    }
]</code></pre></awsui-expandable-section><awsui-expandable-section variant="container" header="system" id="converse-system" expanded="false"><p>A system prompt is a type of prompt that provides instructions or context
                        to the model about the task it should perform, or the persona it should
                        adopt during the conversation. You can specify a list of system prompts for
                        the request in the <code class="code">system</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_SystemContentBlock.html">SystemContentBlock</a>) field, as shown in the following
                        example.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json ">[
    <span>{</span>
        "text": "You are an app that creates play lists for a radio station that plays rock and pop music. Only return song names and the artist. "
    }
]</code></pre></awsui-expandable-section><awsui-expandable-section variant="container" header="inferenceConfig" id="converse-inference" expanded="false"><p>The Converse API supports a base set of inference
                        parameters that you set in the <code class="code">inferenceConfig</code> field (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_InferenceConfiguration.html">InferenceConfiguration</a>). The base set of inference parameters
                        are:</p><div class="itemizedlist">
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p><b>maxTokens</b> – The maximum
                                number of tokens to allow in the generated response. </p>
                        </li><li class="listitem">
                            <p><b>stopSequences</b> – A list of
                                stop sequences. A stop sequence is a sequence of characters that
                                causes the model to stop generating the response. </p>
                        </li><li class="listitem">
                            <p><b>temperature</b> – The
                                likelihood of the model selecting higher-probability options while
                                generating a response. </p>
                        </li><li class="listitem">
                            <p><b>topP</b> – The percentage of
                                most-likely candidates that the model considers for the next
                                token.</p>
                        </li></ul></div><p>For more information, see <a href="./inference-parameters.html">Influence response generation with inference parameters</a>.</p><p>The following example JSON sets the <code class="code">temperature</code> inference
                        parameter. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>"temperature": 0.5}</code></pre></awsui-expandable-section><awsui-expandable-section variant="container" header="additionalModelRequestFields" id="converse-additional-model-request-fields" expanded="false"><p>If the model you are using has additional inference parameters, you can
                        set those parameters by specifying them as JSON in the
                            <code class="code">additionalModelRequestFields</code> field. The following example
                        JSON shows how to set <code class="code">top_k</code>, which is available in Anthropic
                        Claude models, but isn't a base inference parameter in the messages API. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>"top_k": 200}</code></pre></awsui-expandable-section><awsui-expandable-section variant="container" header="promptVariables" id="converse-prompt-variables" expanded="false"><p>If you specify a prompt from <a href="./prompt-management.html">Prompt management</a>
                        in the <code class="code">modelId</code> as the resource to run inference on, use this
                        field to fill in the prompt variables with actual values. The
                            <code class="code">promptVariables</code> field maps to a JSON object with keys that
                        correspond to variables defined in the prompts and values to replace the
                        variables with.</p><p>For example, let's say that you have a prompt that says
                            <code class="userinput">Make me a <code class="replaceable"><span>{</span><span>{</span>genre}}</code> playlist consisting of the following number of songs: <code class="replaceable"><span>{</span><span>{</span>number}}</code>.</code>. The prompt's ID is
                            <code class="code">PROMPT12345</code> and its version is <code class="code">1</code>. You could
                        send the following <code class="code">Converse</code> request to replace the
                        variables:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json ">POST /model/arn:aws:bedrock:us-east-1:111122223333:prompt/PROMPT12345:1/converse HTTP/1.1
Content-type: application/json

<span>{</span>
   "promptVariables": <span>{</span> 
      "genre" : "pop",
      "number": 3
   }
}</code></pre></awsui-expandable-section><awsui-expandable-section variant="container" header="guardrailConfig" id="converse-guardrail" expanded="false"><p>You can apply a guardrail that you created with <a href="./guardrails.html">Amazon Bedrock Guardrails</a> by including this field. To apply the guardrail to a
                        specific message in the conversation, include the message in a <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_GuardrailConverseContentBlock.html">GuardrailConverseContentBlock</a>.
                        If you don't include any <code class="code">GuardrailConverseContentBlock</code>s in the
                        request body, the guardrail is applied to all the messages in the
                            <code class="code">messages</code> field. For an example, see <a href="./guardrails-use-converse-api.html">Include a guardrail with Converse API </a>.</p></awsui-expandable-section><awsui-expandable-section variant="container" header="toolConfig" id="converse-tool" expanded="false"><p>This field lets you define a tool for the model to use to help it generate
                        a response. For more information, see <a href="./tool-use.html">Use a tool to complete an Amazon Bedrock model response</a>.</p></awsui-expandable-section><awsui-expandable-section variant="container" header="additionalModelResponseFieldPaths" id="converse-additional-model-response-field-paths" expanded="false"><p>You can specify the paths for additional model parameters in the
                            <code class="code">additionalModelResponseFieldPaths</code> field, as shown in the
                        following example.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json ">[ "/stop_sequence" ]</code></pre><p>The API returns the additional fields that you request in the
                            <code class="code">additionalModelResponseFields</code> field. </p></awsui-expandable-section><awsui-expandable-section variant="container" header="requestMetadata" id="converse-request-metadata" expanded="false"><p>This field maps to a JSON object. You can specify metadata keys and values
                        that they map to within this object. You can use request metadata to help
                        you filter model invocation logs.</p></awsui-expandable-section></div>

            <p>You can also optionally add cache checkpoints to the <code class="code">system</code> or
                    <code class="code">tools</code> fields to use prompt caching, depending on which model you're
                using. For more information, see <a href="./prompt-caching.html">Prompt caching for faster model inference</a>.</p>

         
            <h2 id="conversation-inference-call-response">Response</h2>
            <p>The response you get from the Converse API depends on which
                operation you call, <code class="code">Converse</code> or <code class="code">ConverseStream</code>.</p>
            <div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><p><a href="#conversation-inference-call-response-converse">Converse
                        response</a></p></li><li><p><a href="#conversation-inference-call-response-converse-stream">ConverseStream response</a></p></li></ul></div>

             
                <h3 id="conversation-inference-call-response-converse">Converse
                        response</h3>

                <p>In the response from <code class="code">Converse</code>, the <code class="code">output</code> field
                        (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ConverseOutput.html">ConverseOutput</a>) contains the message (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Message.html">Message</a>) that the model
                    generates. The message content is in the <code class="code">content</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlock.html">ContentBlock</a>) field and the role (<code class="code">user</code> or
                        <code class="code">assistant</code>) that the message corresponds to is in the
                        <code class="code">role</code> field. </p>
                <p>If you used <a href="./prompt-caching.html">prompt caching</a>, then in the
                    usage field, <code class="code">cacheReadInputTokensCount</code> and
                        <code class="code">cacheWriteInputTokensCount</code> tell you how many total tokens were
                    read from the cache and written to the cache, respectively.</p>
                <p>The <code class="code">metrics</code> field (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ConverseMetrics.html">ConverseMetrics</a>)
                    includes metrics for the call. To determine why the model stopped generating
                    content, check the <code class="code">stopReason</code> field. You can get information about
                    the tokens passed to the model in the request, and the tokens generated in the
                    response, by checking the <code class="code">usage</code> field (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_TokenUsage.html">TokenUsage</a>). If you
                    specified additional response fields in the request, the API returns them as
                    JSON in the <code class="code">additionalModelResponseFields</code> field. </p>

                <p>The following example shows the response from <code class="code">Converse</code> when you
                    pass the prompt discussed in <a href="#conversation-inference-call-request">Request</a>.</p>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class=""><span>{</span>
    "output": <span>{</span>
        "message": <span>{</span>
            "role": "assistant",
            "content": [
                <span>{</span>
                    "text": "Here is a list of 3 pop songs by artists from the United Kingdom:\n\n1. \"Wannabe\" by Spice Girls\n2. \"Bitter Sweet Symphony\" by The Verve \n3. \"Don't Look Back in Anger\" by Oasis"
                }
            ]
        }
    },
    "stopReason": "end_turn",
    "usage": <span>{</span>
        "inputTokens": 125,
        "outputTokens": 60,
        "totalTokens": 185
    },
    "metrics": <span>{</span>
        "latencyMs": 1175
    }
}</code></pre>

             

             
                <h3 id="conversation-inference-call-response-converse-stream">ConverseStream response</h3>


                <p>If you call <code class="code">ConverseStream</code> to stream the response from a model,
                    the stream is returned in the <code class="code">stream</code> response field. The stream
                    emits the following events in the following order.</p>
                
                <div class="orderedlist">
                     
                     
                     
                     
                     
                     

                <ol><li>
                        <p><code class="code">messageStart</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_MessageStartEvent.html">MessageStartEvent</a>). The start event for a message. Includes
                            the role for the message.</p>
                    </li><li>
                        <p><code class="code">contentBlockStart</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlockStartEvent.html">ContentBlockStartEvent</a>). A Content block start event. Tool
                            use only. </p>
                    </li><li>
                        <p><code class="code">contentBlockDelta</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlockDeltaEvent.html">ContentBlockDeltaEvent</a>). A Content block delta event.
                            Includes one of the following:</p>

                        <div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">text</code> – The partial text that the model
                                    generates.</p>
                            </li><li class="listitem">
                                <p><code class="code">reasoningContent</code> – The partial reasoning
                                    carried out by the model to generate the response. You must
                                    submit the returned <code class="code">signature</code>, in addition to all
                                    previous messages in subsequent <code class="code">Converse</code> requests.
                                    If any of the messages are changed, the response throws an
                                    error.</p>
                            </li><li class="listitem">
                                <p><code class="code">toolUse</code> – The partial input JSON object for
                                    tool use.</p>
                            </li></ul></div>
                    </li><li>
                        <p><code class="code">contentBlockStop</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ContentBlockStopEvent.html">ContentBlockStopEvent</a>). A Content block stop event.</p>
                    </li><li>
                        <p><code class="code">messageStop</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_MessageStopEvent.html">MessageStopEvent</a>). The stop event for the message. Includes
                            the reason why the model stopped generating output. </p>
                    </li><li>
                        <p><code class="code">metadata</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ConverseStreamMetadataEvent.html">ConverseStreamMetadataEvent</a>). Metadata for the request. The
                            metadata includes the token usage in <code class="code">usage</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_TokenUsage.html">TokenUsage</a>) and metrics for the call in
                                <code class="code">metrics</code> (<a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_ConverseStreamMetadataEvent.html">ConverseStreamMetadataEvent</a>).</p>
                    </li></ol></div>
                <p>ConverseStream streams a complete content block as a
                        <code class="code">ContentBlockStartEvent</code> event, one or more
                        <code class="code">ContentBlockDeltaEvent</code> events, and a
                        <code class="code">ContentBlockStopEvent</code> event. Use the
                        <code class="code">contentBlockIndex</code> field as an index to correlate the events
                    that make up a content block.</p>



                <p>The following example is a partial response from <code class="code">ConverseStream</code>. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class=""><span>{</span>'messageStart': <span>{</span>'role': 'assistant'}}
<span>{</span>'contentBlockDelta': <span>{</span>'delta': <span>{</span>'text': ''}, 'contentBlockIndex': 0}}
<span>{</span>'contentBlockDelta': <span>{</span>'delta': <span>{</span>'text': ' Title'}, 'contentBlockIndex': 0}}
<span>{</span>'contentBlockDelta': <span>{</span>'delta': <span>{</span>'text': ':'}, 'contentBlockIndex': 0}}
.
.
.
<span>{</span>'contentBlockDelta': <span>{</span>'delta': <span>{</span>'text': ' The'}, 'contentBlockIndex': 0}}
<span>{</span>'messageStop': <span>{</span>'stopReason': 'max_tokens'}}
<span>{</span>'metadata': <span>{</span>'usage': <span>{</span>'inputTokens': 47, 'outputTokens': 20, 'totalTokens': 67}, 'metrics': <span>{</span>'latencyMs': 100.0}}}
</code></pre>

             
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./conversation-inference-supported-models-features.html">Supported models and
                model features</div><div id="next" class="next-link" accesskey="n" href="./conversation-inference-examples.html">Converse API
                examples</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/conversation-inference-call.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/conversation-inference-call.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>